<!-- 網站編輯 -->
<div [hidden]="editMode===EditModeType.Node" style="height: 100%;">
  <div style="width: 30%; height: 100%; float: left; border-right: 1px solid lightgray;">
    <div class="page-title-container">
      <h1>網站列表</h1>
    </div>
    <div class="page-content-container">
      <mat-list>
        <ng-container *ngFor="let site of sites">
          <div [class.selected-site]="selectedSite===site">
            <mat-list-item (click)="selectSite(site)">{{site.site_name}}</mat-list-item>
          </div>
        </ng-container>
      </mat-list>
    </div>
  </div>
  <div style="width: 70%; float: right;">
    <div class="page-title-container">
      <h1>網站設定 <button type="button" mat-button (click)="swichMode(EditModeType.Node)">編輯節點</button></h1>
    </div>
    <div class="page-content-container" *ngIf="selectedSiteUpdateModel">
      <mat-form-field appearance="outline">
        <mat-label>網站名稱</mat-label>
        <input matInput [(ngModel)]="selectedSiteUpdateModel.site_name" name="site_name" required #modelName="ngModel"
          disabled>
        <!-- <mat-error *ngIf="modelName.invalid">{{getErrorMessage(modelName)}}</mat-error> -->
      </mat-form-field>
      <br>
      <mat-form-field appearance="outline">
        <mat-label>子目錄名稱</mat-label>
        <input matInput [(ngModel)]="selectedSiteUpdateModel.site_id" name="site_id" required #modelId="ngModel"
          disabled>
        <!-- <mat-error *ngIf="modelId.invalid">{{getErrorMessage(modelId)}}</mat-error> -->
      </mat-form-field>
    </div>
  </div>
</div>

<!-- 節點編輯 -->
<div [hidden]="editMode===EditModeType.Site" style="height: 100%;">
  <div style="width: 50%; height: 100%; float: left; border-right: 1px solid lightgray;">
    <div class="page-title-container">
      <h1>{{selectedSite?.site_name}} <button type="button" mat-button
          (click)="swichMode(EditModeType.Site)">返回</button>
      </h1>
    </div>
    <div class="page-content-container">
      <cms-tree class="cms-tree" [context]="this" [nodeDatas]="sitemaps" [customNodeRenderer]="customNodeRenderer"
        [defaultExpandLevel]="1" (customEvent)="onCustomEvent($event)" (nodeSelect)="onNodeSelected($event)"
        (afterRender)="afterTreeRender($event)"></cms-tree>
    </div>
  </div>
  <div style="width: 50%; float: right; border-left: 1px solid lightgray;">
    <div class="page-content-container">
    </div>
  </div>
</div>