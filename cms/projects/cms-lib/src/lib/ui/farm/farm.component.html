<div [hidden]="!!subComponentRef">
  <div style="height: 40px; line-height: 40px; vertical-align: middle;">
    <div style="float: left;">
      {{topLevel?topLevel + ' > ' : ''}}{{activedCategory?.category_name}}
    </div>
    <div style="float: right;" *ngIf="isSub">
      <button type="button" (click)="destroySelf()">回上層</button>
    </div>
  </div>
  <hr>
  <ng-container *ngIf="farm">
    <!-- TODO: 正式程式 isSub 要拿掉，現在是為了展示 -->
    <div class="detail-info-container" *ngIf="isSub && farm.detailInfo">
      <cms-farm-detail-info [detailInfo]="farm.detailInfo"></cms-farm-detail-info>
      <hr>
    </div>
    <div>
      <mat-tab-group (selectedTabChange)="onSelectedTabChange($event)">
        <mat-tab *ngFor="let category of farm.category" [label]="category.category_name">
          <ng-template matTabContent>
            <div class="search-info-container" *ngIf="category.searchInfo">
              <cms-farm-search-info [searchInfo]="category.searchInfo"></cms-farm-search-info>
            </div>
            <hr>
            <div class="table-info-container" *ngIf="category.tableInfo">
              <cms-farm-table-info [tableInfo]="category.tableInfo"></cms-farm-table-info>
            </div>
          </ng-template>
        </mat-tab>
      </mat-tab-group>
    </div>
  </ng-container>
  <hr>
  <div>
    <button type="button" (click)="createSub()">Create Sub</button>
  </div>
</div>
<div #subContainer></div>